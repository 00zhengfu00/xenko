<Project>
  <Import Project="..\..\targets\Xenko.PreSettings.targets" />
  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net45</TargetFramework>
    <TargetFramework>$(TargetFrameworkTool)</TargetFramework>
    <XenkoBuildTags>WindowsTools</XenkoBuildTags>
    <XenkoCompilerTargetsEnable Condition="'$(XenkoPackageBuild)' == 'true'">false</XenkoCompilerTargetsEnable>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <OutputPath>bin\Debug\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <OutputPath>bin\Release\</OutputPath>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Mono.Options" Version="5.3.0.1" />
    <Reference Include="System.Configuration.Install" />
    <Reference Include="System.ServiceProcess" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="Microsoft.CSharp" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="..\..\engine\Xenko.Graphics.Regression\RegressionHelpers.cs">
      <Link>RegressionHelpers.cs</Link>
    </Compile>
    <None Include="GraphicsTestBase.Deprecated.cs" />
    <Compile Include="..\..\engine\Xenko.Graphics.Regression\TestResultImage.cs">
      <Link>TestResultImage.cs</Link>
    </Compile>
    <Compile Update="ImageComparerService.cs">
      <SubType>Component</SubType>
    </Compile>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\core\Xenko.Core.Serialization\Xenko.Core.Serialization.csproj" />
    <ProjectReference Include="..\..\core\Xenko.Core\Xenko.Core.csproj" />
    <ProjectReference Include="..\..\engine\Xenko\Xenko.csproj" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Update="ImageComparerService.resx">
      <DependentUpon>ImageComparerService.cs</DependentUpon>
    </EmbeddedResource>
  </ItemGroup>
  <ItemGroup>
    <None Include="..\..\..\deps\ImageMagick\compare.exe">
      <Link>compare.exe</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\..\..\deps\ImageMagick\composite.exe">
      <Link>composite.exe</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Include="..\..\..\deps\ImageMagick\convert.exe">
      <Link>convert.exe</Link>
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>
  
  <ItemGroup>
    <Compile Remove="GraphicsTestBase.Deprecated.cs" />
  </ItemGroup>
  
  <Import Project="..\..\shared\Xenko.Core.ShellHelper\Xenko.Core.ShellHelper.projitems" Label="Shared" />
  <Import Project="$(XenkoPostSettingsTargets)" />
  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />
</Project>